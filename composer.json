{
    "name": "openeuropa/oe_translation",
    "description": "OpenEuropa Drupal module template.",
    "type": "drupal-module",
    "license": "EUPL-1.2",
    "minimum-stability": "dev",
    "prefer-stable": true,
    "require": {
        "php": ">=7.4",
        "drupal/core": "^9.2",
        "drupal/tmgmt": "^1.14",
        "jakeasmith/http_build_url": "^1.0"
    },
    "require-dev": {
        "behat/behat": "^3.10",
        "composer/installers": "^1.11",
        "cweagans/composer-patches": "^1.7",
        "drupal/address": "^1.9",
        "drupal/block_field": "^1.0@RC",
        "drupal/config_devel": "^1.2",
        "drupal/core-composer-scaffold": "^9.2",
        "drupal/core-dev": "^9.2",
        "drupal/ctools": "^3.7",
        "drupal/drupal-extension": "^4.0",
        "drupal/entity_version": "^1.0-beta8",
        "drupal/metatag": "^1.16",
        "drupal/paragraphs": "^1.13",
        "drupal/token": "^1.10",
        "drupaltest/behat-traits": "^0.3",
        "drush/drush": "^10.3",
        "ec-europa/oe-poetry-client": "^0.6",
        "egulias/email-validator": "^2.1.22 || ^3.0",
        "openeuropa/behat-transformation-context": "^0.1",
        "openeuropa/code-review": "^2.0",
        "openeuropa/epoetry-client": "dev-master",
        "openeuropa/oe_editorial": "^1",
        "openeuropa/oe_multilingual": "^1.10",
        "openeuropa/task-runner-drupal-project-symlink": "^1.0.0-beta5",
        "phpspec/prophecy-phpunit": "^1 || ^2",
        "symfony/property-access": "~4",
        "symfony/property-info": "~4"
    },
    "_readme": [
        "Explicit requirement for egulias/email-validator due to https://www.drupal.org/project/drupal/issues/3061074#comment-14300579. It can be removed when Drupal core 9.2 support is droppped.",
        "Explicit lower version requirement of drupal/ctools due to Drupal core 9.2 compatibility.",
        "Explicit requirement of drupal/token module due to PHP7.4 compatbility.",
        "Patching TMGMT to ensure that when a new translation is saved onto the entity, it doesn't create a new revision",
        "Autoload for OpenEuropa\\EPoetry\\Tests\\ temporarily until we stop using the Mock authentication.",
        "Patching core event dispatcher for 9.4.x to prevent indiscriminate calls to stopPropagation. Can be removed when we go to D10. See https://www.drupal.org/project/drupal/issues/3319791.",
        "Requireding symfony propery-access and propery-info for the ePoetry mock for the serializer that uses them."
    ],
    "conflict": {
        "openeuropa/oe_editorial": "<1.2.0"
    },
    "scripts": {
        "post-install-cmd": "./vendor/bin/run drupal:site-setup",
        "post-update-cmd": "./vendor/bin/run drupal:site-setup"
    },
    "repositories": {
        "epoetry-client": {
            "type": "vcs",
            "url": "https://github.com/openeuropa/epoetry-client"
        },
        "drupal": {
            "type": "composer",
            "url": "https://packages.drupal.org/8"
        }
    },
    "autoload": {
        "psr-4": {
            "Drupal\\oe_translation\\": "./src/",
            "OpenEuropa\\EPoetry\\Tests\\": "./vendor/openeuropa/epoetry-client/tests/",
            "Symfony\\Component\\PropertyInfo\\": "./vendor/symfony/property-info/",
            "Symfony\\Component\\PropertyAccess\\": "./vendor/symfony/property-access/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Drupal\\Tests\\oe_translation\\": "./tests/src",
            "Drupal\\Tests\\oe_translation_poetry\\": "./modules/oe_translation_poetry/tests/src",
            "Drupal\\Tests\\oe_translation_corporate_workflow\\": "./modules/oe_translation_corporate_workflow/tests/src"
        }
    },
    "extra": {
        "composer-exit-on-patch-failure": true,
        "enable-patching": true,
        "installer-paths": {
            "build/core": ["type:drupal-core"],
            "build/profiles/contrib/{$name}": ["type:drupal-profile"],
            "build/modules/contrib/{$name}": ["type:drupal-module"],
            "build/themes/contrib/{$name}": ["type:drupal-theme"]
        },
        "drupal-scaffold": {
            "locations": {
                "web-root": "./build"
            }
        },
        "patches": {
            "drupal/address": {
                "https://www.drupal.org/project/address/issues/3187662": "https://www.drupal.org/files/issues/2020-12-10/3187662-3.patch"
            },
            "drupal/tmgmt": {
                "https://www.drupal.org/project/tmgmt/issues/2942236": "https://www.drupal.org/files/issues/2022-07-07/2942236-7.patch",
                "no-new-revisions": "patches/tmgmt_no_new_revision.patch"
            },
            "drupal/core": {
                "stop_propagation": "patches/stop-propagation.patch"
            }
        }
    },
    "config": {
        "sort-packages": true,
        "allow-plugins": {
            "composer/installers": true,
            "cweagans/composer-patches": true,
            "dealerdirect/phpcodesniffer-composer-installer": true,
            "drupal/core-composer-scaffold": true,
            "phpro/grumphp": true
        },
        "discard-changes": true
    }
}
